(window.onload = function () {  'use strict'    // Initialize new request	const request = new XMLHttpRequest();	request.open('POST', '/stats');	// Callback function for when request is completed	const get_id = document.getElementById("bookvar").value	const book_id = parseInt(get_id.match(/\d+/),10)			request.onload = () =>{		const res = JSON.parse(request.responseText)		const indata = JSON.stringify(res)		const _book = JSON.parse(indata)		const sucess = JSON.stringify(_book["success"])		alert(sucess)		// Update the result div		if (sucess) {			// Graphs			var ctx = document.getElementById('reviewChart')			var chart = new CanvasJS.Chart("reviewChart", {				animationEnabled: true,		title:{		text: " Rating Details"	},				axisX:{interval: 1	},				data: [{type: "bar",					name: "Rating Details",						axisYType: "secondary",						color: "#014D65",						dataPoints: [{ y: 100, label: "ratings_count" },				{ y: res.myDICT[0].ratings_count, label: "ratings_count"},				{ y: res.myDICT[0].reviews_count, label: "reviews_count"},				{ y: res.myDICT[0].text_reviews_count, label: "text_reviews_count"},				{ y: res.myDICT[0].work_ratings_count, label: "work_ratings_count"},				{ y: res.myDICT[0].work_reviews_count, label: "work_reviews_count"},				{ y: res.myDICT[0].work_text_reviews_count, label: "work_text_reviews_count"},				{ y: res.myDICT[0].average_rating, label: ".average_rating"}]			}]		});		chart.render();		}	};	// Add data to send with request	const data = new FormData();	data.append("book_id", book_id);	// Send request	request.send(data);	return false; });